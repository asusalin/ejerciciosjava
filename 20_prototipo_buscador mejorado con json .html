<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <body onload="cargarTematicas();" >

        <select id="temas" onchange="cargarDatos();">
            

        </select>
    <table id="resultados"> </table>
    
        <script>
            let temas= [ {tematica:"deportes","direccion":"http://www.marca.es/"},
                        {tematica:"libros","direccion":"http://www.puntolibro.es/"},
                        {tematica:"deportes","direccion":"http://www.todofutbol.com/"},
                        {tematica:"libros","direccion":"http://www.fnac.es/"},
                        {tematica:"cocina","direccion":"http://www.fogones.es/"},
                        {tematica:"juegos","direccion":"http://www.game.es/"}
        ]; 
        

        function cargarTematicas(){
            //creamos un array solo para las tematicas
            let tematica1=[];
            tematica1.push("Todos");
            for (let d of temas){
                tematica1.push(d.tematica);
                
            }
            //creamos un conjunto a partir de array de tematicas
            //y asi eliminamos tematicas duplicadas
            let conjunto= new Set(tematica1);
            let html="";
            for(let c of conjunto){
                html=html+`<option>${c}</option>`
            }
            document.getElementById("temas").innerHTML=html;
        }
        function cargarDatos(){
            let tematicaSeleccionada=document.getElementById("temas").value;
            let html="<tr><th>Tematica</th><th>Direccion</th></tr>";
            for (let r of temas){

                //si el elemento coincide con la tematica seleccionada
                //o se ha seleccionado la palabra TODOS, en ambos casos habria que construir la fila
                if (r.tematica==tematicaSeleccionada||tematicaSeleccionada=="Todos"){
                html=html+`<tr><td>${r.tematica}</td><td>${r.direccion}</td></th>`;
                }
                
            }
            //volcado en la etiqueta tabla:
            document.getElementById("resultados").innerHTML=html;
                }
        

 
        </script>
    </body>
    </html> 